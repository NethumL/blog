<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Setting up a global leader key for macOS with Hammerspoon - Nethum Lamahewage - Thoughts</title><meta name=Description content="Nethum Lamahewage's blog"><meta property="og:title" content="Setting up a global leader key for macOS with Hammerspoon"><meta property="og:description" content="How to use Hammerspoon to set up a global leader key on macOS with nested key bindings to run arbitrary commands similar to Vim"><meta property="og:type" content="article"><meta property="og:url" content="https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-15T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-15T00:00:00+00:00"><meta property="og:site_name" content="Nethum Lamahewage - Thoughts"><meta name=twitter:card content="summary"><meta name=twitter:title content="Setting up a global leader key for macOS with Hammerspoon"><meta name=twitter:description content="How to use Hammerspoon to set up a global leader key on macOS with nested key bindings to run arbitrary commands similar to Vim"><meta name=application-name content="NethumL's blog"><meta name=apple-mobile-web-app-title content="NethumL's blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/><link rel=next href=https://nethuml.github.io/posts/2022/04/pyqt-spellcheck/><link rel=stylesheet href=/css/style.min.0f09bb8ccb706dc39f68c711270f01f65e2a0a77e0690a894ef5d8bc17cb5a5571e827a3b948d0b9c86a809788c336cb.css integrity=sha384-Dwm7jMtwbcOfaMcRJw8B9l4qCnfgaQqJTvXYvBfLWlVx6CejuUjQuchqgJeIwzbL><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Setting up a global leader key for macOS with Hammerspoon","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/nethuml.github.io\/posts\/2022\/04\/hammerspoon-global-leader-key\/"},"genre":"posts","keywords":"dotfiles, hammerspoon","wordcount":2109,"url":"https:\/\/nethuml.github.io\/posts\/2022\/04\/hammerspoon-global-leader-key\/","datePublished":"2022-04-15T00:00:00+00:00","dateModified":"2022-04-15T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Nethum Lamahewage"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Nethum Lamahewage - Thoughts"><span class=header-title-pre><i class='fas fa-terminal'></i></span>home</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/about>About </a><a class=menu-item href=/posts>Posts </a><a class=menu-item href=/tags>Tags </a><a class=menu-item href=/categories>Categories </a><a class=menu-item href=https://github.com/NethumL/nethuml.github.io title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw'></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Nethum Lamahewage - Thoughts"><span class=header-title-pre><i class='fas fa-terminal'></i></span>home</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/about title>About</a><a class=menu-item href=/posts title>Posts</a><a class=menu-item href=/tags title>Tags</a><a class=menu-item href=/categories title>Categories</a><a class=menu-item href=https://github.com/NethumL/nethuml.github.io title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw'></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Setting up a global leader key for macOS with Hammerspoon</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Nethum Lamahewage</a></span>&nbsp;<span class=post-category>included in <a href=/categories/configuration/><i class="far fa-folder fa-fw" aria-hidden=true></i>configuration</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="April 15, 2022">April 15, 2022</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2109 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;10 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#hammerspoon>Hammerspoon</a><ul><li><a href=#about>About</a></li><li><a href=#installing>Installing</a></li><li><a href=#configuring>Configuring</a></li><li><a href=#more>More</a></li></ul></li><li><a href=#recursivebinder-spoon>RecursiveBinder Spoon</a><ul><li><a href=#about>About</a></li><li><a href=#installing>Installing</a></li><li><a href=#configuring>Configuring</a></li></ul></li><li><a href=#leader-key>Leader key</a><ul><li><a href=#loading-from-config-dot-json>Loading from config.json</a></li><li><a href=#applications-and-domains-key-map>Applications & Domains key map</a></li><li><a href=#notes-key-map>Notes key map</a></li><li><a href=#putting-it-all-together>Putting it all together</a></li></ul></li><li><a href=#bonus>Bonus</a><ul><li><a href=#sorted-helper-text>Sorted helper text</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div><div class=content id=content><h2 id=introduction>Introduction</h2><p>I&rsquo;ve been using macOS for a little over a year now. Before that, I had only ever known Windows. I have used Ubuntu a bit, but that barely counts. Once I moved to macOS, it took quite some time to get used to it. I do still occasionally boot into Windows, using Bootcamp, but it&rsquo;s only when I need to use some software that doesn&rsquo;t run on macOS.
At first, I used macOS much like I used to use Windows. However, since I am doing a CS degree, I needed to get familiar with programming related tools, and that is how I found Vim. I found it interesting and gave it a go. I won&rsquo;t go into what that was like here, as there are many people on the internet who have told their stories of learning Vim. Eventually, I gained an interest in configuring my system to suit me better, and I came across Hammerspoon.</p><h2 id=hammerspoon>Hammerspoon</h2><h3 id=about>About</h3><p>Simply put, it is a automation tool running on <a href=https://www.lua.org target=_blank rel="noopener noreffer">Lua</a>. It has numerous APIs for macOS functionality, and with it, you can control pretty much whatever you want to. Basically, you&rsquo;re only limited by your imagination (and your skill at writing the relevant code).</p><h3 id=installing>Installing</h3><p>Using either <a href=https://brew.sh target=_blank rel="noopener noreffer">Homebrew</a> or from the <a href=https://www.hammerspoon.org target=_blank rel="noopener noreffer">website</a></p><h3 id=configuring>Configuring</h3><h4 id=setup>Setup</h4><ul><li>Create <code>~/.hammerspoon/init.lua</code></li><li>This is the starting point of your config. You can split your config into separate files (and you should, if you do any serious configuring), and then use the <a href=https://www.lua.org/pil/8.1.html target=_blank rel="noopener noreffer"><code>require</code> function</a> to import them</li><li>The following are a couple of basic examples of what you can do with Hammerspoon</li></ul><h4 id=reload-config>Reload config</h4><p>You can replace the modifier combination with a <a href=https://evantravers.com/articles/2020/06/08/hammerspoon-a-better-better-hyper-key target=_blank rel="noopener noreffer">hyper key</a> if you want</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>,</span> <span class=s2>&#34;alt&#34;</span><span class=p>,</span> <span class=s2>&#34;ctrl&#34;</span><span class=p>},</span> <span class=s2>&#34;h&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>hs.reload</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>hs.console</span><span class=p>.</span><span class=n>clearConsole</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span></code></pre></div><h4 id=wi-fi-watcher>Wi-Fi watcher</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>wifiwatcher</span> <span class=o>=</span> <span class=n>hs.wifi</span><span class=p>.</span><span class=n>watcher.new</span><span class=p>(</span><span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>net</span> <span class=o>=</span> <span class=n>hs.wifi</span><span class=p>.</span><span class=n>currentNetwork</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=kr>if</span> <span class=n>net</span> <span class=o>==</span> <span class=kc>nil</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	<span class=n>hs.notify</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s2>&#34;You lost Wi-Fi connection&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>else</span>
</span></span><span class=line><span class=cl>	<span class=n>hs.notify</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s2>&#34;Connected to Wi-Fi network&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=n>net</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>wifiwatcher</span><span class=p>:</span><span class=n>start</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=more>More</h3><p>You can go to Hammerspoon&rsquo;s <a href=https://www.hammerspoon.org/go/ target=_blank rel="noopener noreffer">Getting started guide</a> to see some more examples. And if you want to know more about any part of the API, you will find that it is very well <a href=https://www.hammerspoon.org/docs/index.html target=_blank rel="noopener noreffer">documented</a>. You can also find &lsquo;Spoons&rsquo;, which are basically plugins which provide additional functionality, at <a href=https://www.hammerspoon.org/Spoons/ target=_blank rel="noopener noreffer">this</a> link. And you can find many resources out there about setting up various things using Hammerspoon.</p><p>Now let&rsquo;s jump into the RecursiveBinder Spoon</p><h2 id=recursivebinder-spoon>RecursiveBinder Spoon</h2><h3 id=about>About</h3><ul><li>When I first started configuring Hammerspoon, I setup a hyper key, and added a few keybindings. But I soon hit a roadblock where I was using up all the keys (or at least the most easily accessible ones)</li><li>It wasn&rsquo;t that long since I had been introduced to Vim, and I was getting comfortable with the leader key system. It turned out that there was a Spoon for Hammerspoon called RecursiveBinder that could do the same thing.</li></ul><h3 id=installing>Installing</h3><ul><li>Download from <a href=https://www.hammerspoon.org/Spoons/RecursiveBinder.html target=_blank rel="noopener noreffer">here</a></li><li>Copy into <code>~/.hammerspoon/Spoons</code></li><li>Your <code>~/.hammerspoon</code> directory should now look something like this:</li></ul><pre tabindex=0><code class=language-nil data-lang=nil>.
├── Spoons
│   └── RecursiveBinder.spoon
│       ├── docs.json
│       └── init.lua
└── init.lua
</code></pre><h3 id=configuring>Configuring</h3><h4 id=singlekey>singleKey</h4><ul><li>This is a convenience function used to easily create a table representing a keybinding with no modifiers, and also automatically translate capital letters to normal letters with shift modifier</li><li>For example, <code>singleKey('o', 'open')</code> returns <code>{{}, 'o', 'open'}</code>, and <code>singleKey('O', 'open')</code> returns <code>{{'shift'}, 'o', 'open'}</code></li></ul><h4 id=simple-keymap-and-binding>Simple keymap and binding</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>hs.loadSpoon</span><span class=p>(</span><span class=s2>&#34;RecursiveBinder&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>spoon.RecursiveBinder</span><span class=p>.</span><span class=n>escapeKey</span> <span class=o>=</span> <span class=p>{{},</span> <span class=s1>&#39;escape&#39;</span><span class=p>}</span>  <span class=c1>-- Press escape to abort</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>singleKey</span> <span class=o>=</span> <span class=n>spoon.RecursiveBinder</span><span class=p>.</span><span class=n>singleKey</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>keyMap</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;browser&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.application</span><span class=p>.</span><span class=n>launchOrFocus</span><span class=p>(</span><span class=s2>&#34;Firefox&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;t&#39;</span><span class=p>,</span> <span class=s1>&#39;terminal&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.application</span><span class=p>.</span><span class=n>launchOrFocus</span><span class=p>(</span><span class=s2>&#34;Terminal&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;d&#39;</span><span class=p>,</span> <span class=s1>&#39;domain+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;g&#39;</span><span class=p>,</span> <span class=s1>&#39;github&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.urlevent</span><span class=p>.</span><span class=n>openURL</span><span class=p>(</span><span class=s2>&#34;github.com&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;youtube&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.urlevent</span><span class=p>.</span><span class=n>openURL</span><span class=p>(</span><span class=s2>&#34;youtube.com&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({</span><span class=s1>&#39;option&#39;</span><span class=p>},</span> <span class=s1>&#39;space&#39;</span><span class=p>,</span> <span class=n>spoon.RecursiveBinder</span><span class=p>.</span><span class=n>recursiveBind</span><span class=p>(</span><span class=n>keyMap</span><span class=p>))</span>
</span></span></code></pre></div><ul><li><p>Explanation</p><ul><li>First load the spoon using <code>hs.loadSpoon</code></li><li><code>RecursiveBinder.escapeKey</code> is the keybinding used to abort</li><li>The next line is just for convenience, so that I can use <code>singleKey</code> without having to type out <code>spoon.RecursiveBinder.singleKey</code> every time</li><li>Next, I create a table of keybindings. The first two are to open the browser and the terminal respectively, and next set is a nested group.</li><li>Pressing option+space will trigger RecursiveBinder. Helper text will popup at the bottom of your screen with the <code>browser</code>, <code>terminal</code>, and <code>domain+</code> key bindings.</li><li>Pressing <code>b</code> or <code>t</code> will call the functions provided, and open Firefox and Terminal respectively (and also dismiss the helper text)</li><li>Pressing <code>d</code> will enter the next layer, and the helper will change to show the <code>g</code> and <code>y</code> key bindings, and pressing one of those will call the corresponding functions, and open GitHub and YouTube respectively (in your default browser)</li></ul></li></ul><h4 id=styling>Styling</h4><p>Some simple styling</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>spoon.RecursiveBinder</span><span class=p>.</span><span class=n>helperFormat</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>atScreenEdge</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1>-- Bottom edge (default value)</span>
</span></span><span class=line><span class=cl>    <span class=n>textStyle</span> <span class=o>=</span> <span class=p>{</span>  <span class=c1>-- An hs.styledtext object</span>
</span></span><span class=line><span class=cl>	<span class=n>font</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	    <span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;Fira Code&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	    <span class=n>size</span> <span class=o>=</span> <span class=mi>18</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Refer to the <code>hs.alert.defaultStyle</code> documentation for general styling, and <code>hs.styledtext</code> for text styling</p><h2 id=leader-key>Leader key</h2><h3 id=loading-from-config-dot-json>Loading from config.json</h3><ul><li>To make later configuration easier, I set it up so that it loads as much of the config as possible from an easily editable JSON file</li><li>The config.json file is in the private folder, which is where personal aspects of the config are stored. This way, you can separate those from the main configuration, if you were to upload your Hammerspoon config somewhere</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>config</span> <span class=o>=</span> <span class=n>hs.json</span><span class=p>.</span><span class=n>read</span><span class=p>(</span><span class=s2>&#34;private/config.json&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>This is what that config.json file looks like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;applications&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;bundleID&#34;</span><span class=p>:</span> <span class=s2>&#34;org.mozilla.firefox&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Firefox&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;bundleID&#34;</span><span class=p>:</span> <span class=s2>&#34;com.microsoft.VSCode&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;VSCode&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;domains&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;g&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;GitHub&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;github.com&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;y&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;YouTube&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;youtube.com&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;notes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rootPath&#34;</span><span class=p>:</span> <span class=s2>&#34;/Users/your_username_here/notes_html/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;contents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;folder&#34;</span><span class=p>:</span> <span class=s2>&#34;programming&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;p&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Programming&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;contents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>	  <span class=p>{</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;file&#34;</span><span class=p>:</span> <span class=s2>&#34;python&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;p&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Python&#34;</span>
</span></span><span class=line><span class=cl>	  <span class=p>},</span>
</span></span><span class=line><span class=cl>	  <span class=p>{</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;file&#34;</span><span class=p>:</span> <span class=s2>&#34;js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;j&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;JavaScript&#34;</span>
</span></span><span class=line><span class=cl>	  <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;file&#34;</span><span class=p>:</span> <span class=s2>&#34;general&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;g&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;General&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw" aria-hidden=true></i>Using YAML instead of JSON<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>If your config.json is getting too big, it might be a good idea to convert it into a different file type, such as YAML (as it is easier to read/write). I’ll leave that as an exercise for the reader (partly because I haven’t done that yet either, though I do intend to). As a starting point, you may want to look into <a href=https://github.com/gvvaughan/lyaml target=_blank rel="noopener noreffer">this</a>.</div></div></div><h3 id=applications-and-domains-key-map>Applications & Domains key map</h3><ul><li>Here, I&rsquo;m iterating through the list of applications in my config, and adding them to the keymap one by one. For this, I can use a function in Hammerspoon called <code>hs.fnutils.each</code>. It takes in a table and a function, which will be called for each element in the table</li><li>For each application, I&rsquo;m assigning the corresponding key and a function that will launch it using Hammerspoon&rsquo;s <code>hs.application.launchOrFocusByBundleID</code></li><li>If you want to find the bundleid of an application the following AppleScript will return it: <code>id of app 'Firefox'</code> (just replace Firefox with the application name, as it appears in your Applications folder). You can also run this in a shell like this:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>osascript -e <span class=s2>&#34;id of app &#39;Firefox&#39;&#34;</span>
</span></span></code></pre></div><p>The following lua code will add the applications to a key map</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>applicationsKeyMap</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>hs.fnutils</span><span class=p>.</span><span class=n>each</span><span class=p>(</span><span class=n>config.applications</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>applicationsKeyMap</span><span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=n>app.key</span><span class=p>,</span> <span class=n>app.name</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=n>hs.application</span><span class=p>.</span><span class=n>launchOrFocusByBundleID</span><span class=p>(</span><span class=n>app.bundleID</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span></code></pre></div><p>As another example, here is how I&rsquo;m loading the domains key map</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>domainsKeyMap</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>hs.fnutils</span><span class=p>.</span><span class=n>each</span><span class=p>(</span><span class=n>config.domains</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>domain</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>domainsKeyMap</span><span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=n>domain.key</span><span class=p>,</span> <span class=n>domain.name</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=n>hs.urlevent</span><span class=p>.</span><span class=n>openURL</span><span class=p>(</span><span class=s2>&#34;https://&#34;</span> <span class=o>..</span> <span class=n>domain.url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=notes-key-map>Notes key map</h3><p>If you looked at the config above, you may have noticed the notes section. I also set up a keymap to open those notes in the browser. I think the format of the config is self explanatory, so I&rsquo;ll go ahead with the actual lua code</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>generate</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>folder</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>hs.fnutils</span><span class=p>.</span><span class=n>each</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>elem</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=kr>if</span> <span class=n>elem</span><span class=p>[</span><span class=s1>&#39;contents&#39;</span><span class=p>]</span> <span class=o>~=</span> <span class=kc>nil</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	    <span class=c1>-- Sub-folder</span>
</span></span><span class=line><span class=cl>	    <span class=n>folder</span><span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=n>elem.key</span><span class=p>,</span> <span class=n>elem.folder</span> <span class=o>..</span> <span class=s1>&#39;+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=n>generate</span><span class=p>(</span><span class=n>elem.contents</span><span class=p>,</span> <span class=n>path</span> <span class=o>..</span> <span class=n>elem.folder</span> <span class=o>..</span> <span class=s1>&#39;/&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=kr>else</span>
</span></span><span class=line><span class=cl>	    <span class=c1>-- File</span>
</span></span><span class=line><span class=cl>	    <span class=n>folder</span><span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=n>elem.key</span><span class=p>,</span> <span class=n>elem.name</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=n>hs.urlevent</span><span class=p>.</span><span class=n>openURL</span><span class=p>(</span><span class=s2>&#34;file://&#34;</span> <span class=o>..</span> <span class=n>path</span> <span class=o>..</span> <span class=n>elem.file</span> <span class=o>..</span> <span class=s2>&#34;.html&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	    <span class=kr>end</span>
</span></span><span class=line><span class=cl>	<span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>folder</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>notesKeyMap</span> <span class=o>=</span> <span class=n>generate</span><span class=p>(</span><span class=n>config.notes</span><span class=p>.</span><span class=n>contents</span><span class=p>,</span> <span class=n>config.notes</span><span class=p>.</span><span class=n>rootPath</span><span class=p>)</span>
</span></span></code></pre></div><p>This one is more complicated, but I&rsquo;m including it to show you just how much you can achieve with this.
I&rsquo;ll go through it part by part.</p><h4 id=explanation>Explanation</h4><ul><li>All of my notes are in a folder called notes_html in my <code>$HOME</code> folder (aka <code>~/</code>), and I&rsquo;ve categorised some into sub-folders. For example, there is a sub-folder named programming, with separate notes for each programming language.</li><li><code>generate</code> is a recursive function that is called on the notes section of the config</li><li>It iterates over the list provided, and for each element, it does one of two things.</li><li>If it is a sub-folder (a simple way to check this is to check for the <code>contents</code> attribute), then it calls the function again for that folder&rsquo;s list of entries(files or folders), and assigns it to the corresponding key in the keymap</li><li>If it is a file, then it just assigns the corresponding key in the keymap and attaches the function to open the note</li><li>For any programmers reading, the idea is similar to a depth first search of a tree</li><li>To open the note, I&rsquo;m using the <code>hs.urlevent.openURL</code> function. They are all html files, so they are automatically opened in my default browser</li><li>While recursively going through the notes, I&rsquo;m also passing along the current path when calling the function and in the case of a sub-folder appending it to the end of the path</li><li>Now to use this, you don&rsquo;t really need to understand all of this. Just set all of it in the config.json, making sure to set the correct <code>config.notes.rootPath</code> as well.</li></ul><h3 id=putting-it-all-together>Putting it all together</h3><p>All that remains is to put it all together, like so</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>keyMap</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;o&#39;</span><span class=p>,</span> <span class=s1>&#39;open+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=n>applicationsKeyMap</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;d&#39;</span><span class=p>,</span> <span class=s1>&#39;domain+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=n>domainsKeyMap</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=s1>&#39;note+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=n>notesKeyMap</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=s1>&#39;hammerspoon+&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;r&#39;</span><span class=p>,</span> <span class=s1>&#39;reload&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.reload</span><span class=p>()</span> <span class=n>hs.console</span><span class=p>.</span><span class=n>clearConsole</span><span class=p>()</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>[</span><span class=n>singleKey</span><span class=p>(</span><span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;config&#39;</span><span class=p>)]</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hs.execute</span><span class=p>(</span><span class=s2>&#34;/usr/local/bin/code ~/.hammerspoon&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({</span><span class=s1>&#39;option&#39;</span><span class=p>},</span> <span class=s1>&#39;space&#39;</span><span class=p>,</span> <span class=n>spoon.RecursiveBinder</span><span class=p>.</span><span class=n>recursiveBind</span><span class=p>(</span><span class=n>keyMap</span><span class=p>))</span>
</span></span></code></pre></div><p>Here, I&rsquo;ve also included a couple of keybindings for Hammerspoon. One to reload the config, and the other to open the config in VSCode</p><h2 id=bonus>Bonus</h2><h3 id=sorted-helper-text>Sorted helper text</h3><ul><li>If you used this, you may have noticed that the order of the keys in the helper text is not consistent. To fix this, I added some more code to sort the helper text before showing.</li><li>The following code is to be added to <code>RecursiveBinder.spoon/init.lua</code></li><li>Not much needs to change. A function called <code>compareLetters</code> is added, and the beginning of the for loop(in <code>showHelper</code>), and the part just before it are changed as shown</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=c1>-- Function to compare two letters</span>
</span></span><span class=line><span class=cl><span class=c1>-- It sorts according to the ASCII code, and for letters, it will be alphabetical</span>
</span></span><span class=line><span class=cl><span class=c1>-- However, for capital letters (65-90), I&#39;m adding 32.5 (this came from 97 - 65 + 0.5, where 97 is a and 65 is A) to the ASCII code before comparing</span>
</span></span><span class=line><span class=cl><span class=c1>-- This way, each capital letter comes after the corresponding simple letter but before letters that come after it in the alphabetical order</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>compareLetters</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>asciiA</span> <span class=o>=</span> <span class=n>string.byte</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>asciiB</span> <span class=o>=</span> <span class=n>string.byte</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>if</span> <span class=n>asciiA</span> <span class=o>&gt;=</span> <span class=mi>65</span> <span class=ow>and</span> <span class=n>asciiA</span> <span class=o>&lt;=</span> <span class=mi>90</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	<span class=n>asciiA</span> <span class=o>=</span> <span class=n>asciiA</span> <span class=o>+</span> <span class=mf>32.5</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=kr>if</span> <span class=n>asciiB</span> <span class=o>&gt;=</span> <span class=mi>65</span> <span class=ow>and</span> <span class=n>asciiB</span> <span class=o>&lt;=</span> <span class=mi>90</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	<span class=n>asciiB</span> <span class=o>=</span> <span class=n>asciiB</span> <span class=o>+</span> <span class=mf>32.5</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>asciiA</span> <span class=o>&lt;</span> <span class=n>asciiB</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Here I am adding a bit of code to sort before showing</span>
</span></span><span class=line><span class=cl><span class=c1>-- Only the part between START and END changes</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>showHelper</span><span class=p>(</span><span class=n>keyFuncNameTable</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>helper</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>separator</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>lastLine</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- START</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>sortedKeyFuncNameTable</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=kr>for</span> <span class=n>keyName</span><span class=p>,</span> <span class=n>funcName</span> <span class=kr>in</span> <span class=n>pairs</span><span class=p>(</span><span class=n>keyFuncNameTable</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=cl>	<span class=n>table.insert</span><span class=p>(</span><span class=n>sortedKeyFuncNameTable</span><span class=p>,</span> <span class=p>{</span><span class=n>keyName</span> <span class=o>=</span> <span class=n>keyName</span><span class=p>,</span> <span class=n>funcName</span> <span class=o>=</span> <span class=n>funcName</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=n>table.sort</span><span class=p>(</span><span class=n>sortedKeyFuncNameTable</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span> <span class=kr>return</span> <span class=n>compareLetters</span><span class=p>(</span><span class=n>a.keyName</span><span class=p>,</span> <span class=n>b.keyName</span><span class=p>)</span> <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>value</span> <span class=kr>in</span> <span class=n>ipairs</span><span class=p>(</span><span class=n>sortedKeyFuncNameTable</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=cl>	<span class=kd>local</span> <span class=n>keyName</span> <span class=o>=</span> <span class=n>value.keyName</span>
</span></span><span class=line><span class=cl>	<span class=kd>local</span> <span class=n>funcName</span> <span class=o>=</span> <span class=n>value.funcName</span>
</span></span><span class=line><span class=cl>	<span class=c1>-- END</span>
</span></span><span class=line><span class=cl>	<span class=n>count</span> <span class=o>=</span> <span class=n>count</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>	<span class=kd>local</span> <span class=n>newEntry</span> <span class=o>=</span> <span class=n>keyName</span> <span class=o>..</span> <span class=s1>&#39; -&gt; &#39;</span> <span class=o>..</span> <span class=n>funcName</span>
</span></span><span class=line><span class=cl>	<span class=c1>-- make sure each entry is of the same length</span>
</span></span><span class=line><span class=cl>	<span class=kr>if</span> <span class=n>string.len</span><span class=p>(</span><span class=n>newEntry</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>obj.helperEntryLengthInChar</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	    <span class=n>newEntry</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>		<span class=n>string.sub</span><span class=p>(</span><span class=n>newEntry</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>obj.helperEntryLengthInChar</span> <span class=o>-</span> <span class=mi>2</span><span class=p>)</span> <span class=o>..</span> <span class=s1>&#39;..&#39;</span>
</span></span><span class=line><span class=cl>	<span class=kr>elseif</span> <span class=n>string.len</span><span class=p>(</span><span class=n>newEntry</span><span class=p>)</span> <span class=o>&lt;</span> <span class=n>obj.helperEntryLengthInChar</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	    <span class=n>newEntry</span> <span class=o>=</span> <span class=n>newEntry</span> <span class=o>..</span>  <span class=n>string.rep</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>,</span> <span class=n>obj.helperEntryLengthInChar</span> <span class=o>-</span> <span class=n>string.len</span><span class=p>(</span><span class=n>newEntry</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=kr>end</span>
</span></span><span class=line><span class=cl>	<span class=c1>-- create new line for every helperEntryEachLine entries</span>
</span></span><span class=line><span class=cl>	<span class=kr>if</span> <span class=n>count</span> <span class=o>%</span> <span class=p>(</span><span class=n>obj.helperEntryEachLine</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	    <span class=n>separator</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=se>\n</span><span class=s1> &#39;</span>
</span></span><span class=line><span class=cl>	<span class=kr>elseif</span> <span class=n>count</span> <span class=o>==</span> <span class=mi>1</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	    <span class=n>separator</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span>
</span></span><span class=line><span class=cl>	<span class=kr>else</span>
</span></span><span class=line><span class=cl>	    <span class=n>separator</span> <span class=o>=</span> <span class=s1>&#39;  &#39;</span>
</span></span><span class=line><span class=cl>	<span class=kr>end</span>
</span></span><span class=line><span class=cl>	<span class=n>helper</span> <span class=o>=</span> <span class=n>helper</span> <span class=o>..</span> <span class=n>separator</span> <span class=o>..</span> <span class=n>newEntry</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=n>helper</span> <span class=o>=</span> <span class=n>string.match</span><span class=p>(</span><span class=n>helper</span><span class=p>,</span> <span class=s1>&#39;[^</span><span class=se>\n</span><span class=s1>].+$&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>previousHelperID</span> <span class=o>=</span> <span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=n>helper</span><span class=p>,</span> <span class=n>obj.helperFormat</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span></code></pre></div><p>To cleanly integrate this into RecursiveBinder, much more changes are required, but for now, this works for me.</p><h2 id=conclusion>Conclusion</h2><p>OK, time for some closing words. I have been using Hammerspoon for about a year and a half, and so far, I am beyond impressed. The power it brings is frankly amazing, and there is so much you can do with it. Like I said in the beginning, you are only limited by your imagination.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on April 15, 2022</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon" data-hashtags=dotfiles,hammerspoon><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-hashtag=dotfiles><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Pinterest" data-sharer=pinterest data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/><i class="fab fa-pinterest fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Tumblr" data-sharer=tumblr data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon" data-tags=dotfiles,hammerspoon><i class="fab fa-tumblr fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/><i class="fab fa-reddit fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.0.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://nethuml.github.io/posts/2022/04/hammerspoon-global-leader-key/ data-title="Setting up a global leader key for macOS with Hammerspoon"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/dotfiles/>dotfiles</a>,&nbsp;<a href=/tags/hammerspoon/>hammerspoon</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2022/04/pyqt-spellcheck/ class=next rel=next title="Integrating spellchecking into a PyQt5 QTextEdit widget with enchant">Integrating spellchecking into a PyQt5 QTextEdit widget with enchant<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.100.2">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Nethum Lamahewage</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.9d752da052ce4f1dc37d3efc92c6dfdfb5a27549b5bfd32638c6d1a07f7e7781df6acee2cd67a906221a7c80c8b9639d.js integrity=sha384-nXUtoFLOTx3DfT78ksbf37WidUm1v9MmOMbRoH9+d4Hfas7izWepBiIafIDIuWOd></script><script data-goatcounter=https://nethuml-github-io.goatcounter.com/count async src=//gc.zgo.at/count.v3.js></script></body></html>